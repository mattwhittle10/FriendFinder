<!doctype html>
<html lang="en">
  <head>
    <title>Find Friends</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  
</head>
  <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="home.html">Friend Finder</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
              
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                      <a class="nav-link" href="home.html">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">API Data</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="https://github.com/mattwhittle10/FriendFinder">Github</a>
                    </li>
                </ul>
                </div>
              </nav>
    <br>
    <div>
    Name:<input id="name" type="text" class="form-control" placeholder="Name (Required)">
    </div>
    <br>
    <div>
    Image Link: <input id="image" type="text" class="form-control" placeholder="Link to Photo (Required)">
    <br>
    <br>
    </div>
    <h4>Questions:</h4>
    <br>
    <div></div>
    <div></div>
    <p>You love spending time in the outdoors.</p>
    <select id="q1">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You are always trying to plan fun activities with groups of people or friends.</p>
    <div class="dropdown">
  <select id="q2">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You like to keep to yourself and have your own space.</p>
    <select id="q3">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You can't sit still.</p>
    <select id="q4">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You try and fix things when they break rather than just go buy a new one.</p>
   <select id="q5">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You would rather be at a theme park that in the mountains on vacation.</p>
    <select id="q6">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You're an adrenaline junkie.</p>
    <select id="q7">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You are enjoy learning and are always trying to learn new skills.</p>
    <select id="q8">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You enjoy playing most sports.</p>
    <select id="q9">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <p>You love to go on long road trips.</p>
    <select id="q10">
        <option value="undefined">Select an Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree</option>
    </select>
    <br>
    <br>
    <div></div>
    <button id="submitBtn" type="button" class="btn btn-info">Submit</button> 
    
    <div id="bestFriendModal" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h3 class="modal-title">Your match</h1>
					</div>
					<div class="modal-body">
						<h2 id="bestFriend"></h2>
						<img id="bestFriendPhoto" src="#">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
    </div>
    
    <script type="text/javascript">
        $("#submitBtn").on("click", function(event){
            console.log("submit button working")
            event.preventDefault();
            var formComplete = true;
        
            if($("#name").val() === "" || $("#image").val() === "") {
                formComplete = false;
            } else if($("#q1").val() === "undefined" || $("#q2").val() === "undefined" || $("#q3").val() === "undefined" || $("#q4").val() === "undefined" || $("#q5").val() === "undefined" || $("#q6").val() === "undefined" || $("#q7").val() === "undefined" || $("#q8").val() === "undefined" || $("#q9").val() === "undefined" || $("#q10").val() === "undefined") {
                formComplete = false;
            }
            if(formComplete === true) {
                var newProfile = {
                    name: $("#name").val().trim(),
                    image: $("#image").val().trim(),
                    scores: [
                             $("q1"),
                             $("q2"),
                             $("q3"),
                             $("q4"),
                             $("q5"),
                             $("q6"),
                             $("q7"),
                             $("q8"),
                             $("q9"),
                             $("q10")
                            ]
                };
                var currentURL = window.location.origin;
                $.post(currentURL + "/api/friends", newProfile, function(data) {
				$("#bestFriend").text(data.name);
				$("#bestFriendPhoto").attr("src", data.photo);
                $("#bestFriendModal").modal("toggle");
                });
            } else {
                alert("You must anser all the questions before we can find the perfect match for you")
            }
        });
        console.log("hello")
    </script>
</body>
</html>

